<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/static/bootstrap.min.css">
    <script src="/statics/jquery-3.3.1.min.js"></script>
    <script>
           function func1(self) {
               na = self.name
               va = self.value

              $.ajax({
                  url: "/app01/validate_regi/",
                  type: "POST",
                  data:{na:va},
                  success:function (data) {
                      if(data=="1"){
                          document.getElementById("usernameinfo").innerText="用户名已经存在"
                      }
                      if(data=="0"){
                          document.getElementById("usernameinfo").innerText="用户名可以使用"
                      }

                  }

              })
           }
    </script>
</head>
<body>
<form class="form-horizontal" role="form" method="post" action={% url 'register' %}>
  <div class="form-group">
    <label for="firstname" class="col-sm-2 control-label">USERNAME</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="username" placeholder="请输入用户名" style="width: 200px" onblur="func1(this)">
        <span id="usernameinfo"></span>
    </div>
  </div>
  <div class="form-group">
    <label for="lastname" class="col-sm-2 control-label">PASSWORD</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="password" placeholder="请输入密码" style="width: 200px">
     <span id="passwordinfo"></span>
    </div>
  </div>

  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-default">注册</button>
    </div>
  </div>
</form>
</body>
</html>