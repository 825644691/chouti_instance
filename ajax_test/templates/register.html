<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        
        function func1(self){
            {#username = document.getElementsByName("username")[0].value;#}
            username = self.value;
            //user = self.name

            xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange=function(){
                 if(xmlhttp.readyState==4 && xmlhttp.status==200){
                     let data = xmlhttp.responseText;
                     if (data == "1"){
                         document.getElementById("error").innerText="用户名已经存在"
                     }
                     if(data == "0"){
                         document.getElementById("error").innerText="可以使用"
                     }


                 }
            };
            xmlhttp.open("POST", "/app01/register/");
            xmlhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

            xmlhttp.send("username="+username)
        }


    </script>
</head>
<body>
<form action="">
    <p><input type="text" name="username" onblur="func1(this)">
{#     onblur   光标不在#}
    <span id="error"></span>
    </p>
    <p><input type="password" name="pwd"></p>
    <p><input type="submit" value="submit"></p>
</form>
</body>
</html>